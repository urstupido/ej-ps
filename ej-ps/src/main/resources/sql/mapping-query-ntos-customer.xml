<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE queryservice PUBLIC "-//ANYFRAME//DTD QUERYSERVICE//EN"
"http://www.anyframejava.org/dtd/anyframe-core-query-mapping-3.2.dtd">
<queryservice>
	<queries>
		<query id="findCustomerList">
			<statement>
				SELECT custom.cus_no, c.code_name as custom.user_tc, custom.rbno,
				custom.cnm, custom.psno, custom.addr, custom.dong_blw_addr,
				custom.last_chng_usid, custom.last_chng_dt, rownum as no
				FROM custom, code c
				where c.code_type='USER_TC' and c.code = custom.user_tc
			</statement>
		</query>

		<query id="findCustomerByPk">
			<statement>
				SELECT custom.cus_no, custom.user_tc, custom.rbno,
				custom.cnm, custom.psno, custom.addr, custom.dong_blw_addr,
				custom.last_chng_usid, custom.last_chng_dt
				FROM custom
				WHERE cus_no = :vo.cusNo
			</statement>
			<result class="com.sds.ps.domain.Customer" />
		</query>
		
		<query id="updateCustomer">
			<statement>
				UPDATE custom 
				SET user_tc = :vo.userTc,
				    rbno = :vo.rbno,
				    cnm = :vo.cnm,
				    psno = :vo.psno, 
				    addr = :vo.addr,
				    dong_blw_addr = :vo.dongBlwAddr,
				    last_chng_usid = :vo.lastChngUsid,
				    last_chng_dt = sysdate
				WHERE cus_no = :vo.cusNo
			</statement>
		</query>
		
	</queries>
</queryservice>

